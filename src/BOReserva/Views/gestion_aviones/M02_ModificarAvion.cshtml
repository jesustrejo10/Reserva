@model BOReserva.Models.gestion_aviones.CModificarAvion

<script src="~/Scripts/Scripts_Aviones/llamadas_generales.js"></script>
<link href="~/Content/Canvas/Box.css" rel="stylesheet" />



<!---------------------- SECCION DE AGREGAR AVION ---------------->
@using (Html.BeginForm("guardarAvion", "gestion_aviones", null, FormMethod.Post, new { @id = "formmodifyAvion", @class = "form-horizontal" }))
{

    <div class="row">
        <div class="col-md-10">
            <div class="Cajita">

                <div class="box-body">
                    <h2 class="box-title"> Modificar Avión</h2>
                    <div class="row">
                        <div class="col-md-12">

                            <div>
                                &nbsp;
                                <div class="col-md-12">
                                    <div class="col-xs-6">
                                        <label for="matriculaAvion">Matrícula del Avión (<span style="color:red">*</span>):</label>
                                        @Html.TextBoxFor(m => m._matriculaAvion, null, new { @class = "form-control", @placeholder = "HK-4549", @id = "matriculaAvion", @readonly = "readonly" })

                                    </div>
                                    <div class="col-xs-6">
                                        <label for="capacidadPasajerosTurista">Capacidad Clase Turista:</label>
                                        @Html.TextBoxFor(m => m._capacidadPasajerosTurista, null, new { @class = "form-control", @placeholder = "0", @type = "number", @id = "capacidadTuristas", @min = 0 })

                                    </div>
                                </div>
                            </div>

                            <div>
                                &nbsp;
                                <div class="col-md-12">
                                    <div class="col-xs-6">
                                        <label for="modeloAvion">Modelo del Avión (<span style="color:red">*</span>):</label>
                                        @Html.TextBoxFor(m => m._modeloAvion, null, new { @class = "form-control", @placeholder = "Boeing 777", @id = "modeloAvion" })

                                    </div>
                                    <div class="col-xs-6">
                                        <label for="capacidadPasajerosVIP">Capacidad Clase VIP:</label>
                                        @Html.TextBoxFor(m => m._capacidadPasajerosVIP, null, new { @class = "form-control", @placeholder = "0", @type = "number", @id = "capacidadVIP", @min = 0 })


                                    </div>
                                </div>
                            </div>

                            <div>
                                &nbsp;
                                <div class="col-md-12">
                                    <div class="col-xs-6">
                                        <label for="capacidadEquipaje">Capacidad de Equipaje (En Kilos) (<span style="color:red">*</span>):</label>
                                        @Html.TextBoxFor(m => m._capacidadEquipaje, null, new { @class = "form-control", @placeholder = "0", @type = "number", @id = "capacidadEquipaje", @min = 0 })

                                    </div>
                                    <div class="col-xs-6">
                                        <label for="capacidadPasajerosEjecutiva">Capacidad Clase Ejecutiva:</label>
                                        @Html.TextBoxFor(m => m._capacidadPasajerosEjecutiva, null, new { @class = "form-control", @placeholder = "0", @type = "number", @id = "capacidadEjecutiva", @min = 0 })

                                    </div>
                                </div>
                            </div>

                            <div>
                                &nbsp;
                                <div class="col-md-12">

                                    <div class="col-xs-6">
                                        <label for="capacidadCombustible">Capacidad de Combustible (En litros) (<span style="color:red">*</span>):</label>
                                        @Html.TextBoxFor(m => m._capacidadMaximaCombustible, null, new { @class = "form-control", @placeholder = "0", @type = "number", @id = "capacidadCombustible", @min = 0 })

                                    </div>

                                    <div class="col-xs-6">
                                        <label for="velocidadMaximaDeVuelo">Velocidad Máxima (En Km/h) :</label>
                                        @Html.TextBoxFor(m => m._velocidadMaximaDeVuelo, null, new { @class = "form-control", @placeholder = "0", @type = "number", @id = "velocidadMaximaDeVuelo", @min = 0 })

                                    </div>
                                    <div class="col-xs-6">

                                    </div>
                                </div>
                            </div>

                            <div>
                                &nbsp;
                                <div class="col-md-12">

                                    <div class="col-xs-6">
                                        <label for="distanciaMaximaDeVuelo">Distancia Máxima de Vuelo (En Kilometros) (<span style="color:red">*</span>):</label>
                                        @Html.TextBoxFor(m => m._distanciaMaximaVuelo, null, new { @class = "form-control", @placeholder = "0", @type = "number", @id = "distanciaMaximaVuelo", @min = 0 })

                                    </div>
                                </div>
                            </div>

                            <div>&nbsp;</div>
                            <div class="col-md-12" style="margin-top:10px;">
                                <div class="col-md-4"></div>
                                <div class="col-md-2">
                                    <button type="button" id="modify_avion" class="btn btn-success" style="display:block; margin-left:auto; margin-right:auto;">Modificar</button>
                                </div>
                                <div class="col-md-2">
                                    <button id="cancelarModificacion" type="button" class="btn btn-danger" style="display:block; margin-left:auto; margin-right:auto;">Cancelar</button>
                                </div>
                                <div class="col-md-4"></div>
                            </div>
                        </div>
                        <!-- /.col -->
                    </div>
                    <!-- /.row -->
                </div>
                <!-- /.box-body -->
            </div>
            <!-- /.box -->
        </div>
        <!-- /.col -->
    </div>
    <!-- /.row -->
}
<!------------------- FIN DE SECCION DE AGREGAR AVION ---------------->

<script>

    /// <summary>
    /// Evento para modificar Avion
    /// </summary>
    $("#modify_avion").click(function (e) {
        e.preventDefault();
        var form = $("#formmodifyAvion");
        var matricula = $('#matriculaAvion').val();
        var modelo = $('#modeloAvion').val();
        var capacidadturista = $('#capacidadTuristas').val();
        var capacidadejecutiva = $('#capacidadEjecutiva').val();
        var capacidadvip = $('#capacidadVIP').val();
        var capacidadequipaje = $('#capacidadEquipaje').val();
        var distanciamaxvuelo = $('#distanciaMaximaVuelo').val();
        var velocidadmaxvuelo = $('#velocidadMaximaDeVuelo').val();
        var capacidadcombustible = $('#capacidadCombustible').val();
        console.log(matricula);
        console.log(modelo);
        console.log(capacidadturista);
        console.log(capacidadejecutiva);
        console.log(capacidadvip);
        console.log(capacidadequipaje);
        console.log(distanciamaxvuelo);
        console.log(capacidadcombustible);

        /// <summary>
        /// Evento para validar que los campos no esten vacios
        /// </summary>
        if (matricula && modelo && capacidadturista && capacidadejecutiva && capacidadvip && capacidadequipaje && distanciamaxvuelo && capacidadcombustible) {
            $.ajax({
                url: "gestion_aviones/modificarAvion",
                data: form.serialize(),
                type: 'POST',
                success: function (data) {
                    if (data === "1") {
                        alert("Se modifico el avion exitosamente, sera redirigido al listado de aviones");
                        //$('#formmodifyVehicle')[0].reset();
                        var url1 = '/gestion_aviones/M02_VisualizarAviones';
                        var method = 'GET';
                        var data1 = '';

                        $.ajax(
                            {
                                url: url1,
                                type: method,
                                data: data,
                                success: function (data, textStatus, jqXHR) {

                                    $("#contenido").empty();
                                    $("#contenido").append(data);
                                },
                                error: function (jqXHR, textStatus, errorThrown) {
                                    alert(errorThrown);
                                }
                            });
                    } else {
                        alert(data);
                    }
                }
            });
        } else {
            alert("Existen campos vacios, por favor revise todos los campos");
        }
    });

</script>
    